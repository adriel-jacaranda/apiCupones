name: 'Gestión de Asignaciones de Cupones ADM'
description: |-

  Endpoints para manejar la asignación, canje y consulta de cupones.
endpoints:
  -
    custom: []
    httpMethods:
      - POST
    uri: api/cupones/reclamados
    metadata:
      custom: []
      groupName: 'Gestión de Asignaciones de Cupones ADM'
      groupDescription: |-

        Endpoints para manejar la asignación, canje y consulta de cupones.
      subgroup: ''
      subgroupDescription: ''
      title: 'Cupones reclamados por usuario (rango de fechas)'
      description: ''
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      user_id:
        custom: []
        name: user_id
        description: 'ID del usuario.'
        required: true
        example: 8
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      fecha_inicio:
        custom: []
        name: fecha_inicio
        description: 'Fecha inicial (YYYY-MM-DD).'
        required: true
        example: '2025-10-01'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      fecha_fin:
        custom: []
        name: fecha_fin
        description: 'Fecha final (YYYY-MM-DD).'
        required: true
        example: '2025-10-31'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      user_id: 8
      fecha_inicio: '2025-10-01'
      fecha_fin: '2025-10-31'
    fileParameters: []
    responses: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/cupones/cupones-usuario/{id}'
    metadata:
      custom: []
      groupName: 'Gestión de Asignaciones de Cupones ADM'
      groupDescription: |-

        Endpoints para manejar la asignación, canje y consulta de cupones.
      subgroup: ''
      subgroupDescription: ''
      title: 'Cupones por usuario'
      description: 'Obtiene los cupones asignados a un usuario.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'ID del usuario.'
        required: true
        example: 5
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 5
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 401
        content: '{"message":"Unauthenticated."}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          access-control-allow-origin: '*'
        description: null
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: api/asignaciones
    metadata:
      custom: []
      groupName: 'Gestión de Asignaciones de Cupones ADM'
      groupDescription: |-

        Endpoints para manejar la asignación, canje y consulta de cupones.
      subgroup: ''
      subgroupDescription: ''
      title: 'Listar todas las asignaciones'
      description: 'Obtiene todas las asignaciones de cupones con su información relacionada.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          [
            {
               "id": 1,
               "cupon_id": 2,
               "user_id": 5,
               "fecha_canje": "2025-10-29",
               "cupon": {"codigo": "ABC123"},
               "user": {"name": "Juan"},
               "almacen": {"nombre": "Sucursal Central"}
            }
          ]
        headers: []
        description: Éxito
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/asignaciones/cupon
    metadata:
      custom: []
      groupName: 'Gestión de Asignaciones de Cupones ADM'
      groupDescription: |-

        Endpoints para manejar la asignación, canje y consulta de cupones.
      subgroup: ''
      subgroupDescription: ''
      title: 'Crear asignación mediante DNI + código'
      description: 'Permite asignar un cupón usando el código del cupón y el DNI del usuario.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      codigo:
        custom: []
        name: codigo
        description: 'Código del cupón.'
        required: true
        example: ABC123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      dni:
        custom: []
        name: dni
        description: 'DNI del usuario.'
        required: true
        example: '7896541'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      almacen_id:
        custom: []
        name: almacen_id
        description: 'ID del comercio donde se realiza el canje.'
        required: true
        example: 4
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      fecha_canje:
        custom: []
        name: fecha_canje
        description: 'optional Fecha del canje.'
        required: false
        example: '2025-10-29'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      codigo: ABC123
      dni: '7896541'
      almacen_id: 4
      fecha_canje: '2025-10-29'
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: |-
          {
            "id": 1,
            "cupon_id": 5,
            "user_id": 12,
            "fecha_canje": "2025-10-29"
          }
        headers: []
        description: Éxito
      -
        custom: []
        status: 409
        content: '{"message": "El usuario ya canjeó este cupón."}'
        headers: []
        description: Duplicado
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/asignaciones/{id}'
    metadata:
      custom: []
      groupName: 'Gestión de Asignaciones de Cupones ADM'
      groupDescription: |-

        Endpoints para manejar la asignación, canje y consulta de cupones.
      subgroup: ''
      subgroupDescription: ''
      title: 'Mostrar asignación por ID'
      description: 'Obtiene una asignación específica.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'El ID de la asignación.'
        required: true
        example: 17
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 17
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "id": 1,
            "cupon": {"codigo": "ABC123"},
            "user": {"name": "Juan"},
            "almacen": {"nombre": "Sucursal Central"}
          }
        headers: []
        description: Éxito
      -
        custom: []
        status: 404
        content: '{"message": "Asignación no encontrada."}'
        headers: []
        description: 'No encontrado'
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - DELETE
    uri: 'api/asignaciones/{id}'
    metadata:
      custom: []
      groupName: 'Gestión de Asignaciones de Cupones ADM'
      groupDescription: |-

        Endpoints para manejar la asignación, canje y consulta de cupones.
      subgroup: ''
      subgroupDescription: ''
      title: 'Eliminar asignación'
      description: ''
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'ID de la asignación.'
        required: true
        example: 7
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 7
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: '{"message": "Asignación eliminada correctamente."}'
        headers: []
        description: ''
      -
        custom: []
        status: 404
        content: '{"message": "Asignación no encontrada."}'
        headers: []
        description: ''
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/asignaciones/filtrar
    metadata:
      custom: []
      groupName: 'Gestión de Asignaciones de Cupones ADM'
      groupDescription: |-

        Endpoints para manejar la asignación, canje y consulta de cupones.
      subgroup: ''
      subgroupDescription: ''
      title: 'Cupones por campaña y almacén'
      description: ''
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      campania_id:
        custom: []
        name: campania_id
        description: 'ID de la campaña.'
        required: true
        example: 2
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      almacen_id:
        custom: []
        name: almacen_id
        description: 'ID del comercio.'
        required: true
        example: 4
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      campania_id: 2
      almacen_id: 4
    fileParameters: []
    responses: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
